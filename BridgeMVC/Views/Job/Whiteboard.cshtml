@model IEnumerable<BridgeMVC.Models.Job>

<style>
    .ct1{
        background-color:#0094ff;
        color:aliceblue;
    }
    .ct2 {
        background-color: #064579;
        color: aliceblue;
    }


    .wbTab {
        /*width: 450px;*/
        padding: 0.5em 1em 0.5em 1em;
        min-width: 300px;
        font-weight: bold;
        height: 100px;
        float:left;
        margin-right:1em;
    }
        .wbTab:hover {
            background-color: #eee;
            cursor:pointer;
            color:black;
        }
    .wbnav {
        overflow: hidden;
        background-color: white;
    }

        .wbnav a {
            float: left;
            display: block;
            color: black;
            text-align: center;
            padding: 14px 36px;
            text-decoration: none;
            font-size: 17px;
        }

            .wbnav a:hover {
                background-color: #ddd;
                color: black;
            }

    .active {
        background-color: #4CAF50;
        color: white;
    }

    .wbnav .icon {
        display: none;
    }

    .dropdown {
        position: relative;
        display: inline-block;
    }

    .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f1f1f1;
        min-width: 160px;
        overflow: auto;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
    }

        .dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }

    .dropdown a:hover {
        background-color: #ddd;
    }

    .show {
        display: block;
    }
    /*.form-control {
        font-weight: normal;
    }*/
    div.card {
        width: 250px;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        text-align: center;
    }

    div.header {
        background-color: #4CAF50;
        color: white;
        padding: 10px;
        font-size: 40px;
    }

    div.container {
        padding: 10px;
    }
</style>


@{
    ViewBag.Title = "M1_Task1";
    string UserSignature = (string)Session["UserSignature"];
    string bridgeModule = (string)Session["BridgeModule"];
    var LCertType = ViewBag.LCertType;
    var LCertAction = ViewBag.LCertAction;
    var LMainProdType = ViewBag.LMainProdType;
    var LSubProdType = ViewBag.LSubProdType;
    var LUser = ViewBag.LUser;

    ViewBag.Title = "Index";
    var users = ViewBag.users;
    var i = 0;
    var classNv = "";

}

<div class="wbnav">
    <a href="">TO Be DISTRIBUTED</a>
    <a href="">ON HOLD</a>
    <a href="">ON GOING</a>
    <a href="">UNDER VERIFICATION</a>
    <a href="">COMPLETED LAST WEEK</a>
</div>


<h3>Due in 5 days</h3>

<table class="table table-mid-align-rows">

    @foreach (var item in Model)
    {
        i += 1;
        var nv = "myDropdown" + i;
        classNv = "wbTab  ct"+i;

    <div class="card @classNv" onclick="myFunction(@i)">
        @Html.DisplayFor(modelItem => item.NpsJobId)
        <br />
        @Html.DisplayFor(modelItem => item.ProdDescription)
        <br /> Budget:
        @Html.DisplayFor(modelItem => item.BudgetHour) hours
        

        <div id=@nv class="dropdown-content">
            <a href=""><u>SEND JOB TO</u></a>
            <a href="#home">SXL</a>
            <a href="#about">SADEL</a>
            <a href="#contact">NECA</a>
        </div>


    </div>

    }
</table>





<script>
    var users = @Html.Raw(Json.Encode(users));

    var xx = "@classNv";
    console.log(xx);
</script>

<script>
    
    function myFunction(x) {
        i = x;
        document.getElementById("myDropdown" + x).classList.toggle("show");
    }

    // Close the dropdown if the user clicks outside of it
    window.onclick = function (event) {
        if (!event.target.matches('.wbTab')) {

            var dropdowns = document.getElementsByClassName("dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
                var openDropdown = dropdowns[i];
                if (openDropdown.classList.contains('show')) {
                    openDropdown.classList.remove('show');
                }
            }
        }
    }
</script>